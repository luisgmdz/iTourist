<form id="login" method="post">
  <input type="email" name="email" value="" placeholder="Tu Email">
  <br><br>
  <input type="password" name="password" value="" placeholder="Tu ContraseÃ±a">
  <br><br>
  <input type="submit" value="Login">
</form>

<script type="text/javascript">
  var formLogin = document.querySelector('#login')

  formLogin.addEventListener('submit', function (event){

    event.preventDefault()
    const datos = new FormData(formLogin);
    var obj={}

    datos.forEach(function(value, key){
      obj[key]= value;

    });
    fetch('/api/signin',{
      body: JSON.stringify(obj),
      method: 'POST',
      headers:{
        "Content-Type":"application/json;charset=UTF-8"
      }
      //body: formData
    })
    .then (res => res.json())
    .then (data => {
      localStorage.setItem('token',data.token)
    })
  })
</script>
